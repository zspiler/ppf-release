(()=>{"use strict";function e(e,a){const s=document.createElement("img");return s.classList.add(a),s.src=e,s.draggable=!1,s}const a="./images",s={milka:"milka",portraits:"portraits",events:"events"},t={[s.milka]:[{images:[`${a}/milka/milka_marec23_foto_lana_spiler-46.jpg`]},{images:[`${a}/milka/milka_marec23_foto_lana_spiler-47.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-4.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-5.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-6.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-7.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-8.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-9.jpg`]},{images:[`${a}/milka/milka_pomanjsane_mar23_-10.jpg`]},{images:[`${a}/milka/Milka_foto_lana-spiler_september-22__10.jpg`,`${a}/milka/Milka_foto_lana-spiler_september-22__15.jpg`]},{images:[`${a}/milka/Milka_foto_lana-spiler_september-22__1.jpg`]},{images:[`${a}/milka/Milka_foto_lana-spiler_september-22__16.jpg`]}],[s.portraits]:[{images:[`${a}/portraits/mila_doma_18_copy.jpeg`],description:"Mila 2020"},{images:[`${a}/portraits/MRFY_promo_shoot_18_19_54.jpeg`],description:"MRFY 2019"},{images:[`${a}/portraits/ZALAGASPER_oktober19_promo_19.jpeg`],description:"Zala & Gasper"},{images:[`${a}/portraits/zora+copy.jpeg`],description:"Zora"},{images:[`${a}/portraits/b_copy.jpeg`],description:"Zivimo v druzbi"}],[s.events]:[{images:[`${a}/events/andersonpaak/DSC01314_copy.jpg`]},{images:[`${a}/events/andersonpaak/DSC01437_JPG.jpg`]},{images:[`${a}/events/andersonpaak/DSC01700_JPG.jpg`]},{images:[`${a}/events/andersonpaak/DSC01835_JPG.jpg`]},{images:[`${a}/events/andersonpaak/DSC02268_copy.jpg`]},{images:[`${a}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_55.jpg`]},{images:[`${a}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_14.jpg`]},{images:[`${a}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_56.jpg`]},{images:[`${a}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_18.jpg`]},{images:[`${a}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_47.jpg`]},{images:[`${a}/events/sonica/42516530_10155893058135823_8097257085294608384_o.jpg`]},{images:[`${a}/events/sonica/42716232_10155901768570823_2334134225080418304_o.jpg`]},{images:[`${a}/events/sonica/42872928_10155906558945823_3819046067329040384_o.jpg`]},{images:[`${a}/events/sonica/42989869_10155906668235823_3837548906699292672_o.jpg`]},{images:[`${a}/events/sonica/42999598_10155910337900823_4364633757190193152_o.jpg`]},{images:[`${a}/events/sonica/43000399_10155910369605823_8789940545980989440_o.jpg`]},{images:[`${a}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${a}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${a}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${a}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${a}/events/sonica/43043450_10155910372010823_5348174258587566080_o.jpg`]},{images:[`${a}/events/sonica/43148598_10155910332900823_2448250836120240128_o.jpg`]}]},i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let n=s.milka,o=0;function r(e){n=e}function c(e){o=e}const l=document.querySelector("#custom-cursor"),m=(document.querySelector("body"),document.querySelector(".main")),p=document.querySelector(".carousel"),_=(document.querySelector(".carousel-slide-descrption"),document.querySelector(".menu-button")),d=document.querySelector(".menu"),g=document.querySelector(".gallery-button"),u=document.querySelector(".gallery-overlay"),v=document.querySelector(".grid"),j=document.querySelector(".nav-button"),L=document.querySelector(".about-overlay");let k,y=!0;function E(a){r(a),c(0),p.classList.remove("hidden"),k.remove($());const s=t[a].map((({images:a,description:s})=>{const t=a.map((a=>e(a,"carousel-image"))),i=document.createElement("div");i.classList.add("cell-images"),i.append(...t);const n=document.createElement("div");if(n.classList.add("carousel-cell"),n.classList.add("flex-center"),n.append(i),s){const e=document.createElement("div");e.innerHTML=s,e.classList.add("carousel-slide-description"),n.append(e)}return n}));k.append(s),k.select(o,!1,!0)}function $(){return Array.from(p.querySelectorAll(".carousel-cell"))}function f(){y&&(l.style.opacity=.2)}const b=Object.keys(s).map((e=>({category:e,element:document.querySelector(`.menu-item.${e}`)})));function h(){_.classList.remove("open"),d.classList.remove("visible")}function S(e){b.forEach((({category:a,element:s})=>{a===e?s.classList.add("selected"):s.classList.remove("selected")}))}function M(){m.classList.add("hidden"),j.classList.add("home"),setTimeout((()=>{u.classList.add("open"),h()}),200),function(){Array.from(document.querySelectorAll(".grid-image")).forEach((e=>e.remove()));const a=t[n].map((({images:a})=>a.map((a=>e(a,"grid-image"))))).flat();v.append(...a);a.forEach(((e,a)=>{e.addEventListener("click",(()=>(e=>{const a=function(e,a){const s=t[a];let i=0;for(let a=0;a<s.length;a++)if(i+=s[a].images.length,e<i)return a;return 0}(e,n);c(a),k.select(a,!1,!0),R()})(a)))}))}()}function R(){u.classList.remove("open"),m.classList.remove("hidden"),j.classList.remove("home")}function A(){L.classList.remove("open"),j.classList.remove("home")}var q;Object.values(t).flat(2).map((({images:e})=>e)).flat().forEach((e=>fetch(e,{method:"HEAD"}))),_.addEventListener("click",(function(){d.classList.contains("visible")?h():(_.classList.add("open"),d.classList.add("visible"))})),b.forEach((({category:e,element:a})=>{a.addEventListener("click",(()=>{e!==n&&(S(e),E(e),p.classList.remove("preview"))})),i||(a.addEventListener("mouseover",(()=>{if(e===n)return;p.classList.add("preview");const a=n;E(e),r(a)})),a.addEventListener("mouseout",(()=>{E(n),p.classList.remove("preview")})))})),S(n),q=n,k=new Flickity(p,{wrapAround:!1,prevNextButtons:!1,pageDots:!1,draggable:i}),i||(document.addEventListener("mousemove",(function(e){const{clientX:a,clientY:s}=e;if(l.style.left=`${a}px`,l.style.top=`${s}px`,!y)return;const t=a>window.innerWidth/2,i=0===o,n=o===$()?.length-1;t&&n||!t&&i?f():l.style.opacity=1,l.innerHTML=t?">>>":"<<<"})),p.addEventListener("mouseleave",(()=>{y=!1,l.style.opacity=0})),p.addEventListener("mouseenter",(()=>{y=!0,l.style.opacity=1})),p.addEventListener("click",(e=>{const{clientX:a}=e;a>window.innerWidth/2?o!==$().length-1?(c(o+1),k.select(o)):f():0!==o?(c(o-1),k.select(o)):f()}))),E(q),g.addEventListener("click",(()=>{M()})),j.addEventListener("click",(()=>{L.classList.contains("open")?A():u.classList.contains("open")?R():(h(),L.classList.add("open"),j.classList.add("home"))})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(R(),h(),A())}))})();