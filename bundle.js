(()=>{"use strict";function e(e,t){const n=document.createElement("img");return n.classList.add(t),n.src=e,n.draggable=!1,n}const t="./images",n={milka:"milka",portraits:"portraits",events:"events"},s={[n.milka]:[[`${t}/milka/Milka_foto_lana-spiler_september-22__10.jpg`],[`${t}/milka/Milka_foto_lana-spiler_september-22__1.jpg`],[`${t}/milka/Milka_foto_lana-spiler_september-22__15.jpg`],[`${t}/milka/Milka_foto_lana-spiler_september-22__16.jpg`],[`${t}/milka/Milka_foto_lana-spiler_september-22__21.jpg`]],[n.portraits]:[[`${t}/portraits/mila_doma_18_copy.jpeg`],[`${t}/portraits/MRFY_promo_shoot_18_19_54.jpeg`],[`${t}/portraits/ZALAGASPER_oktober19_promo_19.jpeg`],[`${t}/portraits/zora+copy.jpeg`],[`${t}/portraits/b_copy.jpeg`]],[n.events]:[[`${t}/events/andersonpaak/DSC01314_copy.jpg`],[`${t}/events/andersonpaak/DSC01437_JPG.jpg`],[`${t}/events/andersonpaak/DSC01700_JPG.jpg`],[`${t}/events/andersonpaak/DSC01835_JPG.jpg`],[`${t}/events/andersonpaak/DSC02268_copy.jpg`],[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_55.jpg`],[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_14.jpg`],[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_56.jpg`],[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_18.jpg`],[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_47.jpg`],[`${t}/events/sonica/42516530_10155893058135823_8097257085294608384_o.jpg`],[`${t}/events/sonica/42716232_10155901768570823_2334134225080418304_o.jpg`],[`${t}/events/sonica/42872928_10155906558945823_3819046067329040384_o.jpg`],[`${t}/events/sonica/42989869_10155906668235823_3837548906699292672_o.jpg`],[`${t}/events/sonica/42999598_10155910337900823_4364633757190193152_o.jpg`],[`${t}/events/sonica/43000399_10155910369605823_8789940545980989440_o.jpg`],[`${t}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`],[`${t}/events/sonica/43043450_10155910372010823_5348174258587566080_o.jpg`],[`${t}/events/sonica/43148598_10155910332900823_2448250836120240128_o.jpg`]]},o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let a=n.milka,r=0;function i(e){r=e}const c=document.querySelector("#custom-cursor"),l=(document.querySelector("body"),document.querySelector(".main")),d=document.querySelector(".carousel"),u=document.querySelector(".menu-button"),p=document.querySelector(".menu"),m=document.querySelector(".preview-image-container"),_=document.querySelector(".preview-image"),v=document.querySelector(".gallery-button"),g=document.querySelector(".gallery-overlay"),L=document.querySelector(".grid"),y=document.querySelector(".gallery-title"),E=document.querySelector(".nav-button"),f=document.querySelector(".about-overlay"),k=document.querySelector(".carousel-nav-button.previous"),b=document.querySelector(".carousel-nav-button.next");let $;gsap.registerPlugin(ScrollToPlugin);let j=!0;function S(t){a=t,$?.seek($.duration()).pause(),d.classList.remove("hidden"),m.classList.remove("visible"),q()?.forEach((e=>e.remove()));const n=s[t].map((t=>t.map((t=>e(t,"carousel-image"))))).map((e=>{const t=document.createElement("div");return t.classList.add("carousel-slide"),t.classList.add("flex-center"),t.append(...e),t}));d.append(...n),i(0),h(r,!0)}function h(e,t=!1){const n=t?0:1.5;return gsap.to(d,{x:(s=e,-q()[s].offsetLeft),duration:n,ease:"power4.out"});var s}function q(){return Array.from(d.querySelectorAll(".carousel-slide"))}function M(){r!==q().length-1?(i(r+1),o&&(B(r<q().length-1),w(!0)),$=h(r)):A()}function R(){0!==r?(i(r-1),o&&(w(r>0),B(!0)),$=h(r)):A()}function A(){j&&(c.style.opacity=.2)}function w(e){e?k.classList.add("visible"):k.classList.add("remove")}function B(e){e?b.classList.add("visible"):b.classList.add("remove")}const x=Object.keys(n).map((e=>({category:e,element:document.querySelector(`.menu-item.${e}`)})));function C(){u.classList.remove("open"),p.classList.remove("visible")}function N(e){x.forEach((({category:t,element:n})=>{t===e?n.classList.add("selected"):n.classList.remove("selected")}))}function O(){l.classList.add("hidden"),E.classList.add("home"),setTimeout((()=>{g.classList.add("open"),C()}),200),function(){Array.from(document.querySelectorAll(".grid-image")).forEach((e=>e.remove())),y.innerHTML=a;const t=s[a].flat().map((t=>e(t,"grid-image")));L.append(...t);t.forEach(((e,t)=>{e.addEventListener("click",(()=>(e=>{i(function(e,t){const n=s[t];let o=0;for(let t=0;t<n.length;t++)if(o+=n[t].length,e<o)return t;return 0}(e,a)),h(r,!0),P()})(t)))}))}()}function P(){g.classList.remove("open"),l.classList.remove("hidden"),E.classList.remove("home")}function T(){f.classList.remove("open"),E.classList.remove("home")}var D;Object.values(s).flat(2).forEach((e=>{(new Image).src=e})),u.addEventListener("click",(function(){p.classList.contains("visible")?C():(u.classList.add("open"),p.classList.add("visible"))})),x.forEach((({category:e,element:t})=>{t.addEventListener("click",(()=>{e!==a&&(N(e),S(e))})),t.addEventListener("mouseover",(()=>{e!==a&&(m.classList.add("visible"),_.src=s[e][0][0],d.classList.add("hidden"))})),t.addEventListener("mouseout",(()=>{m.classList.remove("visible"),_.src="",d.classList.remove("hidden")}))})),N(a),D=a,o?(B(!0),b.addEventListener("click",M),k.addEventListener("click",R)):(document.addEventListener("mousemove",(function(e){const{clientX:t,clientY:n}=e;if(c.style.left=`${t}px`,c.style.top=`${n}px`,!j)return;const s=t>window.innerWidth/2,o=0===r,a=r===q()?.length-1;s&&a||!s&&o?A():c.style.opacity=1,c.innerHTML=s?">>>":"<<<"})),d.addEventListener("mouseleave",(()=>{j=!1,c.style.opacity=0})),d.addEventListener("mouseenter",(()=>{j=!0,c.style.opacity=1}))),d.addEventListener("click",(e=>{const{clientX:t}=e;t>window.innerWidth/2?M():R()})),S(D),q()[0].querySelector(".carousel-image").onload=()=>h(0,!0),v.addEventListener("click",(()=>{O()})),E.addEventListener("click",(()=>{f.classList.contains("open")?T():g.classList.contains("open")?P():(C(),f.classList.add("open"),E.classList.add("home"))})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(P(),C(),T())}))})();