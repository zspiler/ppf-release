(()=>{"use strict";gsap.registerPlugin(ScrollToPlugin);const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=document.querySelector("#custom-cursor"),n=(document.querySelector("body"),document.querySelector(".main")),s=document.querySelector(".carousel"),o=document.querySelector(".menu-button"),a=document.querySelector(".menu"),r=document.querySelector(".preview-image-container"),i=document.querySelector(".preview-image"),c=document.querySelector(".gallery-button"),l=document.querySelector(".gallery-overlay"),d=document.querySelector(".grid"),u=document.querySelector(".gallery-title"),m=document.querySelector(".nav-button"),p=document.querySelector(".about-overlay"),_=document.querySelector(".carousel-nav-button.previous"),v=document.querySelector(".carousel-nav-button.next"),g={milka:"milka",portraits:"portraits",events:"events"},L="./images",y={[g.milka]:[[`${L}/milka/Milka_foto_lana-spiler_september-22__10.jpg`],[`${L}/milka/Milka_foto_lana-spiler_september-22__1.jpg`],[`${L}/milka/Milka_foto_lana-spiler_september-22__15.jpg`],[`${L}/milka/Milka_foto_lana-spiler_september-22__16.jpg`],[`${L}/milka/Milka_foto_lana-spiler_september-22__21.jpg`]],[g.portraits]:[[`${L}/portraits/mila_doma_18_copy.jpeg`],[`${L}/portraits/MRFY_promo_shoot_18_19_54.jpeg`],[`${L}/portraits/ZALAGASPER_oktober19_promo_19.jpeg`],[`${L}/portraits/zora+copy.jpeg`],[`${L}/portraits/b_copy.jpeg`]],[g.events]:[[`${L}/events/andersonpaak/DSC01314_copy.jpg`],[`${L}/events/andersonpaak/DSC01437_JPG.jpg`],[`${L}/events/andersonpaak/DSC01700_JPG.jpg`],[`${L}/events/andersonpaak/DSC01835_JPG.jpg`],[`${L}/events/andersonpaak/DSC02268_copy.jpg`],[`${L}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_55.jpg`],[`${L}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_14.jpg`],[`${L}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_56.jpg`],[`${L}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_18.jpg`],[`${L}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_47.jpg`],[`${L}/events/sonica/42516530_10155893058135823_8097257085294608384_o.jpg`],[`${L}/events/sonica/42716232_10155901768570823_2334134225080418304_o.jpg`],[`${L}/events/sonica/42872928_10155906558945823_3819046067329040384_o.jpg`],[`${L}/events/sonica/42989869_10155906668235823_3837548906699292672_o.jpg`],[`${L}/events/sonica/42999598_10155910337900823_4364633757190193152_o.jpg`],[`${L}/events/sonica/43000399_10155910369605823_8789940545980989440_o.jpg`],[`${L}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`],[`${L}/events/sonica/43043450_10155910372010823_5348174258587566080_o.jpg`],[`${L}/events/sonica/43148598_10155910332900823_2448250836120240128_o.jpg`]]};let E,f,k=0,$=g.milka,b=!0,j=!1,S=!1,h=!1;const q=Object.keys(g).map((e=>({name:e,element:document.querySelector(`.menu-item.${e}`)})));function M(){b&&(t.style.opacity=.2)}function R(e){const t=e?"add":"remove";_.classList[t]("visible")}function x(e){const t=e?"add":"remove";v.classList[t]("visible")}Object.values(y).flat(2).forEach((e=>{(new Image).src=e})),N($),f[0].querySelector(".carousel-image").onload=()=>{gsap.set(s,{x:-C(0)})},e?(x(!0),v.addEventListener("click",w),_.addEventListener("click",B)):(document.addEventListener("mousemove",(function(e){const{clientX:n,clientY:s}=e;if(t.style.left=`${n}px`,t.style.top=`${s}px`,!b)return;const o=n>window.innerWidth/2,a=0===k;o&&k===f?.length-1||!o&&a?M():t.style.opacity=1,t.innerHTML=o?">>>":"<<<"})),s.addEventListener("mouseleave",(()=>{b=!1,t.style.opacity=0})),s.addEventListener("mouseenter",(()=>{b=!0,t.style.opacity=1}))),s.addEventListener("click",(e=>{const{clientX:t}=e;t>window.innerWidth/2?w():B()}));const A={ease:"power4.out",duration:1.5};function w(){k!==f.length-1?(k++,e&&(x(k<f.length-1),R(!0)),E=gsap.to(s,{x:-C(k),...A})):M()}function B(){0!==k?(k--,e&&(R(k>0),x(!0)),E=gsap.to(s,{x:-C(k),...A})):M()}function C(e){return f[e].offsetLeft}function N(e){var t;$=e,E?.seek(E.duration()).pause(),t=e,q.forEach((({name:e,element:n})=>{e===t?n.classList.add("selected"):n.classList.remove("selected")})),s.classList.remove("hidden"),r.classList.remove("visible"),f?.forEach((e=>e.remove()));const n=y[e].map((e=>e.map((e=>D(e,"carousel-image"))))).map((e=>{const t=document.createElement("div");return t.classList.add("carousel-slide"),t.classList.add("flex-center"),t.append(...e),t}));s.append(...n),f=Array.from(s.querySelectorAll(".carousel-slide")),k=0,gsap.to(s,{x:-C(k),duration:0})}function O(){o.classList.remove("open"),a.classList.remove("visible"),j=!1}function P(){l.classList.remove("open"),n.classList.remove("hidden"),m.classList.remove("home"),h=!1}function T(){p.classList.remove("open"),m.classList.remove("home"),S=!1}function D(e,t){const n=document.createElement("img");return n.classList.add(t),n.src=e,n.draggable=!1,n}q.forEach((({name:e,element:t})=>{t.addEventListener("click",(()=>{e!==$&&N(e)})),t.addEventListener("mouseover",(()=>{e!==$&&(r.classList.add("visible"),i.src=y[e][0][0],s.classList.add("hidden"))})),t.addEventListener("mouseout",(()=>{r.classList.remove("visible"),i.src="",s.classList.remove("hidden")}))})),o.addEventListener("click",(()=>{j?O():(o.classList.add("open"),a.classList.add("visible"),j=!0)})),c.addEventListener("click",(()=>{n.classList.add("hidden"),m.classList.add("home"),setTimeout((()=>{l.classList.add("open"),O(),h=!0}),200),function(){Array.from(document.querySelectorAll(".grid-image")).forEach((e=>e.remove())),u.innerHTML=$;const e=y[$].flat().map((e=>D(e,"grid-image")));d.append(...e);e.forEach(((e,t)=>{e.addEventListener("click",(()=>(e=>{k=function(e,t){const n=y[t];let s=0;for(let t=0;t<n.length;t++)if(s+=n[t].length,e<s)return t;return 0}(e,$),E=gsap.to(s,{x:-C(k),duration:0}),P()})(t)))}))}()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(P(),O(),T())})),m.addEventListener("click",(()=>{S?T():h?P():(O(),p.classList.add("open"),m.classList.add("home"),S=!0)}))})();