(()=>{"use strict";function e(e,t){const s=document.createElement("img");return s.classList.add(t),s.src=e,s.draggable=!1,s}const t="./images",s={milka:"milka",portraits:"portraits",events:"events"},a={[s.milka]:[{images:[`${t}/milka/Milka_foto_lana-spiler_september-22__10.jpg`]},{images:[`${t}/milka/Milka_foto_lana-spiler_september-22__1.jpg`]},{images:[`${t}/milka/Milka_foto_lana-spiler_september-22__15.jpg`]},{images:[`${t}/milka/Milka_foto_lana-spiler_september-22__16.jpg`]},{images:[`${t}/milka/Milka_foto_lana-spiler_september-22__21.jpg`]}],[s.portraits]:[{images:[`${t}/portraits/mila_doma_18_copy.jpeg`],description:"Mila 2020"},{images:[`${t}/portraits/MRFY_promo_shoot_18_19_54.jpeg`],description:"MRFY 2019"},{images:[`${t}/portraits/ZALAGASPER_oktober19_promo_19.jpeg`],description:"Zala & Gasper"},{images:[`${t}/portraits/zora+copy.jpeg`],description:"Zora"},{images:[`${t}/portraits/b_copy.jpeg`],description:"Zivimo v druzbi"}],[s.events]:[{images:[`${t}/events/andersonpaak/DSC01314_copy.jpg`]},{images:[`${t}/events/andersonpaak/DSC01437_JPG.jpg`]},{images:[`${t}/events/andersonpaak/DSC01700_JPG.jpg`]},{images:[`${t}/events/andersonpaak/DSC01835_JPG.jpg`]},{images:[`${t}/events/andersonpaak/DSC02268_copy.jpg`]},{images:[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_55.jpg`]},{images:[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_14.jpg`]},{images:[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lana_piler_56.jpg`]},{images:[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_18.jpg`]},{images:[`${t}/events/brumenxceltra/CELTRA_BRUMEN_NOVEMBER19_lanas_piler_47.jpg`]},{images:[`${t}/events/sonica/42516530_10155893058135823_8097257085294608384_o.jpg`]},{images:[`${t}/events/sonica/42716232_10155901768570823_2334134225080418304_o.jpg`]},{images:[`${t}/events/sonica/42872928_10155906558945823_3819046067329040384_o.jpg`]},{images:[`${t}/events/sonica/42989869_10155906668235823_3837548906699292672_o.jpg`]},{images:[`${t}/events/sonica/42999598_10155910337900823_4364633757190193152_o.jpg`]},{images:[`${t}/events/sonica/43000399_10155910369605823_8789940545980989440_o.jpg`]},{images:[`${t}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${t}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${t}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${t}/events/sonica/43023510_10155910331635823_4608076003925819392_o.jpg`]},{images:[`${t}/events/sonica/43043450_10155910372010823_5348174258587566080_o.jpg`]},{images:[`${t}/events/sonica/43148598_10155910332900823_2448250836120240128_o.jpg`]}]},i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let n=s.milka,o=0;function r(e){o=e}const c=document.querySelector("#custom-cursor"),l=(document.querySelector("body"),document.querySelector(".main")),d=document.querySelector(".carousel"),m=(document.querySelector(".carousel-slide-descrption"),document.querySelector(".menu-button")),p=document.querySelector(".menu"),u=document.querySelector(".preview-image-container"),_=document.querySelector(".preview-image"),g=document.querySelector(".gallery-button"),v=document.querySelector(".gallery-overlay"),L=document.querySelector(".grid"),y=document.querySelector(".gallery-title"),E=document.querySelector(".nav-button"),f=document.querySelector(".about-overlay"),$=document.querySelector(".carousel-nav-button.previous"),j=document.querySelector(".carousel-nav-button.next");let b;gsap.registerPlugin(ScrollToPlugin);let k=!0;function S(t){n=t,b?.seek(b.duration()).pause(),d.classList.remove("hidden"),u.classList.remove("visible"),M()?.forEach((e=>e.remove()));const s=a[t].map((({images:t,description:s})=>{const a=t.map((t=>e(t,"carousel-image"))),i=document.createElement("div");if(i.classList.add("carousel-slide"),i.classList.add("flex-center"),i.append(...a),s){const e=document.createElement("div");e.innerHTML=s,e.classList.add("carousel-slide-description"),i.append(e)}return i}));d.append(...s),r(0),h(o,!0)}function h(e,t=!1){const s=t?0:1.5;return gsap.to(d,{x:(a=e,-M()[a].offsetLeft),duration:s,ease:"power4.out"});var a}function M(){return Array.from(d.querySelectorAll(".carousel-slide"))}function q(){o!==M().length-1?(r(o+1),i&&(B(o<M().length-1),w(!0)),b=h(o)):A()}function R(){0!==o?(r(o-1),i&&(w(o>0),B(!0)),b=h(o)):A()}function A(){k&&(c.style.opacity=.2)}function w(e){e?$.classList.add("visible"):$.classList.add("remove")}function B(e){e?j.classList.add("visible"):j.classList.add("remove")}function x(){h(o,!0)}const C=Object.keys(s).map((e=>({category:e,element:document.querySelector(`.menu-item.${e}`)})));function N(){m.classList.remove("open"),p.classList.remove("visible")}function T(e){C.forEach((({category:t,element:s})=>{t===e?s.classList.add("selected"):s.classList.remove("selected")}))}function O(){l.classList.add("hidden"),E.classList.add("home"),setTimeout((()=>{v.classList.add("open"),N()}),200),function(){Array.from(document.querySelectorAll(".grid-image")).forEach((e=>e.remove())),y.innerHTML=n;const t=a[n].map((({images:t})=>t.map((t=>e(t,"grid-image"))))).flat();L.append(...t);t.forEach(((e,t)=>{e.addEventListener("click",(()=>(e=>{r(function(e,t){const s=a[t];let i=0;for(let t=0;t<s.length;t++)if(i+=s[t].length,e<i)return t;return 0}(e,n)),h(o,!0),P()})(t)))}))}()}function P(){v.classList.remove("open"),l.classList.remove("hidden"),E.classList.remove("home")}function D(){f.classList.remove("open"),E.classList.remove("home")}var G;Object.values(a).flat(2).map((({images:e})=>e)).flat().forEach((e=>{fetch(e,{method:"HEAD"})})),m.addEventListener("click",(function(){p.classList.contains("visible")?N():(m.classList.add("open"),p.classList.add("visible"))})),C.forEach((({category:e,element:t})=>{t.addEventListener("click",(()=>{e!==n&&(T(e),S(e))})),t.addEventListener("mouseover",(()=>{e!==n&&(u.classList.add("visible"),_.src=a[e][0].images[0],d.classList.add("hidden"))})),t.addEventListener("mouseout",(()=>{u.classList.remove("visible"),_.src="",d.classList.remove("hidden")}))})),T(n),G=n,i?(B(!0),j.addEventListener("click",q),$.addEventListener("click",R)):(document.addEventListener("mousemove",(function(e){const{clientX:t,clientY:s}=e;if(c.style.left=`${t}px`,c.style.top=`${s}px`,!k)return;const a=t>window.innerWidth/2,i=0===o,n=o===M()?.length-1;a&&n||!a&&i?A():c.style.opacity=1,c.innerHTML=a?">>>":"<<<"})),d.addEventListener("mouseleave",(()=>{k=!1,c.style.opacity=0})),d.addEventListener("mouseenter",(()=>{k=!0,c.style.opacity=1}))),d.addEventListener("click",(e=>{const{clientX:t}=e;t>window.innerWidth/2?q():R()})),S(G),M()[0].querySelector(".carousel-image").onload=()=>x(),window.addEventListener("resize",x),g.addEventListener("click",(()=>{O()})),E.addEventListener("click",(()=>{f.classList.contains("open")?D():v.classList.contains("open")?P():(N(),f.classList.add("open"),E.classList.add("home"))})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(P(),N(),D())}))})();